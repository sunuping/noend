<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="common/common :: head('Noend','')">
</head>
<body class="fix-header card-no-border fix-sidebar">

<div class="preloader">
    <div class="loader">
        <div class="loader__figure"></div>
        <p class="loader__label">Admin Pro</p>
    </div>
</div>

<div id="main-wrapper">

    <header class="topbar" th:replace="common/common :: topbar">
    </header>

    <aside class="left-sidebar" th:replace="common/common :: left-sidebar">
    </aside>
    <div class="page-wrapper">
        <div class="container-fluid">

            <div class="row page-titles">
                <div class="col-md-5 align-self-center">
                    <h3 class="text-themecolor">商品管理</h3>
                </div>
                <div class="col-md-7 align-self-center">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="javascript:void(0)">主页</a></li>
                        <li class="breadcrumb-item">销售管理</li>
                        <li class="breadcrumb-item active">商品管理</li>
                    </ol>
                </div>
                <div class="">
                    <button class="right-side-toggle waves-effect waves-light btn-inverse btn btn-circle btn-sm pull-right m-l-10"><i
                            class="ti-settings text-white"></i></button>
                </div>
            </div>

            <!-- Row -->
            <div class="row">
                <div class="col-lg-12">
                    <div class="card">
                        <div class="card-header bg-info">
                            <h4 class="m-b-0 text-white">新增商品</h4>
                        </div>
                        <div class="card-body">
                            <form action="#">
                                <div class="form-body">
                                    <h3 class="card-title">商品信息</h3>
                                    <hr>
                                    <div class="row p-t-20">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="control-label">商品名称</label>
                                                <input type="text" id="name" name="name" th:value="${commodity.name}" class="form-control"
                                                       placeholder="">
                                            </div>
                                        </div>
                                        <!--/span-->
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="control-label">商品规格</label>
                                                <input type="text" id="norm" name="norm" th:value="${commodity.norm}"  class="form-control" placeholder="">
                                            </div>
                                        </div>
                                        <!--/span-->
                                    </div>
                                    <div class="row p-t-20">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="control-label">商品批号</label>
                                                <input type="text" id="lotNumber" name="lotNumber" th:value="${commodity.lotNumber}"  class="form-control"
                                                       placeholder="">
                                            </div>
                                        </div>
                                        <!--/span-->
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="control-label">库存</label>
                                                <input type="text" id="inventory" name="inventory" th:value="${commodity.inventory}" class="form-control"
                                                       placeholder="0">
                                            </div>
                                        </div>
                                        <!--/span-->
                                    </div>
                                    <div class="row p-t-20">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="control-label">零售价格</label>
                                                <input type="text" id="retailPrice" name="retailPrice"  th:value="${commodity.retailPrice}" class="form-control"
                                                       placeholder="0">
                                            </div>
                                        </div>
                                        <!--/span-->
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="control-label">供货价格</label>
                                                <input type="text" id="supplyPrice" name="supplyPrice" th:value="${commodity.supplyPrice}" class="form-control"
                                                       placeholder="0">
                                            </div>
                                        </div>
                                        <!--/span-->
                                    </div>
                                    <div class="row p-t-20">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="control-label">批发价格</label>
                                                <input type="text" id="wholesalePrice" name="wholesalePrice" th:value="${commodity.wholesalePrice}"
                                                       class="form-control" placeholder="0">
                                            </div>
                                        </div>
                                        <!--/span-->
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="control-label">备注</label>
                                                <input type="text" id="remark" name="remark" th:value="${commodity.remark}" class="form-control" placeholder="">
                                            </div>
                                        </div>
                                        <!--/span-->
                                    </div>
                                    <!--/row-->
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group has-success">
                                                <label class="control-label">商品类型</label>
                                                <select class="form-control custom-select">
                                                    <option value="">药品</option>
                                                    <option value="">保健品</option>
                                                </select>
                                            </div>
                                            <!--/span-->
                                        </div>
                                        <!--/row-->
                                    </div>
                                    <input type="hidden" id="id" th:value="${commodity.id}"/>
                                    <div class="form-actions">
                                        <button type="button" class="btn btn-success submit"><i class="fa fa-check"></i> 提交</button>
                                        <button type="button" class="btn btn-inverse">取消</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>

</div>

<div th:replace="common/common :: js('')"></div>

<script>
    $(function () {
        $(".submit").click(function () {
            $.ajax({
                url:"/sales/commodity/modify",
                dataType:"json",
                type:"post",
                data:{
                    "id":$("#id").val(),
                    "name":$("#name").val(),
                    "norm":$("#norm").val(),
                    "lotNumber":$("#lotNumber").val(),
                    "inventory":$("#inventory").val(),
                    "retailPrice":$("#retailPrice").val(),
                    "supplyPrice":$("#supplyPrice").val(),
                    "wholesalePrice":$("#wholesalePrice").val(),
                    "remark":$("#remark").val(),
                },
                success:function (result) {
                    if (result.code==1){
                        alert("修改成功！");
                        window.location.href='/sales/commodity/list';
                    }
                }
            })
        })
    })
</script>
</body>

</html>